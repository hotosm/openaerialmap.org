!function(){function e(o,r,a){function t(s,i){if(!r[s]){if(!o[s]){var p="function"==typeof require&&require;if(!i&&p)return p(s,!0);if(n)return n(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[s]={exports:{}};o[s][0].call(c.exports,function(e){var r=o[s][1][e];return t(r||e)},c,c.exports,e,o,r,a)}return r[s].exports}for(var n="function"==typeof require&&require,s=0;s<a.length;s++)t(a[s]);return t}return e}()({"/home/runner/work/openaerialmap.org/openaerialmap.org/app/assets/scripts/config.js":[function(e,o,r){"use strict";var a=e("lodash.defaultsdeep"),t={local:e("./config/local.js"),logo:e("./config/logo.js"),production:e("./config/production.js"),staging:e("./config/staging.js")},n=t.local||{};a(n,t.production),o.exports=n},{"./config/local.js":"/home/runner/work/openaerialmap.org/openaerialmap.org/app/assets/scripts/config/local.js","./config/logo.js":"/home/runner/work/openaerialmap.org/openaerialmap.org/app/assets/scripts/config/logo.js","./config/production.js":"/home/runner/work/openaerialmap.org/openaerialmap.org/app/assets/scripts/config/production.js","./config/staging.js":"/home/runner/work/openaerialmap.org/openaerialmap.org/app/assets/scripts/config/staging.js","lodash.defaultsdeep":"lodash.defaultsdeep"}],"/home/runner/work/openaerialmap.org/openaerialmap.org/app/assets/scripts/config/local.js":[function(e,o,r){"use strict";o.exports={}},{}],"/home/runner/work/openaerialmap.org/openaerialmap.org/app/assets/scripts/config/logo.js":[function(e,o,r){"use strict";var a=["╭──────────────────────────────────────╮","│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░█░░░░░░░░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░█░░█░░░░█░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░██░░█░░██░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░███░█░███░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░███░████░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░███████░░░░░░█░░░█░░░░░│","│░░░░░░░░██░░░░░██████░░░░░██░░██░░░░░░│","│░░░░░█░░░██░░░░░█████░░░███░███░░░░░░░│","│░░░░░░██░░███░░░█████░░██████░░░░░░░░░│","│░░░░░░░░██░███░░█████░░████░░░░░░░░░░░│","│░░░░░░░░░██████░░████░███░░░░░░░░░░░░░│","│░░░░░░░░░░░░████░███░░█░░░░░░░░░░░░░░░│","│░░░░░░█████░░░░████░░░░░░░░░░░░░░░░░░░│","│░░░░░░░░██████░░░██░░░█░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░████░█████░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░██████░░░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░░░███░░░░░░░░░░░░░░░░░░│","╰──────────────────────────────────────╯"],t=[];a=a.map(function(e,o){return e.replace(/(^|[|│])|(░+)|(█+)/g,function(e,o,r,a){return o?(t.push("black"),"%c"+o):r?(t.push("#cf3f02"),"%c"+r):a||!e?(t.push("black"),"%c"+(a||"")):void 0})}).concat(["                                        ","%c           DEVELOPMENT SEED             "]).join("\n"),t=t.map(function(e){return"color: "+e}).concat(["color: #cf3f02; font-weight: bold"]),o.exports=[a].concat(t)},{}],"/home/runner/work/openaerialmap.org/openaerialmap.org/app/assets/scripts/config/production.js":[function(e,o,r){"use strict";var a=e("./logo");o.exports={environment:"production",consoleMessage:a,OAMBrowserUrl:"https://map.openaerialmap.org",OAMCatalogApi:"https://api.openaerialmap.org"}},{"./logo":"/home/runner/work/openaerialmap.org/openaerialmap.org/app/assets/scripts/config/logo.js"}],"/home/runner/work/openaerialmap.org/openaerialmap.org/app/assets/scripts/config/staging.js":[function(e,o,r){"use strict";o.exports={environment:"staging"}},{}],"/home/runner/work/openaerialmap.org/openaerialmap.org/app/assets/scripts/main.js":[function(e,o,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var t=e("oam-design-system"),n=a(t),s=e("jquery"),i=a(s),p=e("moment"),l=a(p),c=e("turf-centroid"),u=a(c),g=e("tilebelt"),m=a(g),f=e("./config.js"),d=function(){var e=f.OAMCatalogApi+"/analytics/?limit=1";i["default"].getJSON(e,function(e){var o=e.results[0];(0,i["default"])("#stats--images").html(o.count.toLocaleString()).removeClass("invisible"),(0,i["default"])("#stats--sensors").html(o.sensor_count.toLocaleString()).removeClass("invisible"),(0,i["default"])("#stats--providers").html(o.provider_count.toLocaleString()).removeClass("invisible")})},h=function(e){var o="m";return e<1&&(o="cm",e=(100*e).toFixed(2)),e<1&&(e=0),e+" "+o},v=function(e){console.log(e);var o=14,r=(0,u["default"])({type:"Feature",geometry:e.geojson}).geometry.coordinates,a=m["default"].pointToTile(r[0],r[1],o+3),t=(m["default"].tileToQuadkey(a),r[0]+","+r[1]+","+o);return f.OAMBrowserUrl+"/#/"+t+"/latest/"+e._id},j=function(){var e=f.OAMCatalogApi+"/meta?order_by=acquisition_end&sort=desc&limit=3";i["default"].getJSON(e,function(e){e.results.forEach(function(e,o){var r=(0,i["default"])("#image-"+(o+1)+" a");(0,i["default"])(".latest-imagery__image",r).prepend((0,i["default"])("<img>",{alt:"Recent Imagery",src:e.properties.thumbnail})),(0,i["default"])("#date",r).text((0,l["default"])(e.acquisition_start.slice(0,-1)).format("MMMM Do YYYY")),(0,i["default"])("#provider",r).text(e.provider),(0,i["default"])("#resolution",r).text(h(e.gsd)),r.attr("href",v(e)),(0,i["default"])(".loading",r).removeClass("revealed")})})};document.querySelector('[data-hook="global-menu:trigger"]').addEventListener("click",function(e){e.preventDefault(),e.target.classList.toggle("button--active"),document.querySelector('[data-hook="global-menu:wrapper"]').classList.toggle("menu-wrapper--open")},!1),n["default"].hello(),d(),j()},{"./config.js":"/home/runner/work/openaerialmap.org/openaerialmap.org/app/assets/scripts/config.js",jquery:"jquery",moment:"moment","oam-design-system":"oam-design-system",tilebelt:"tilebelt","turf-centroid":"turf-centroid"}]},{},["/home/runner/work/openaerialmap.org/openaerialmap.org/app/assets/scripts/main.js"]);