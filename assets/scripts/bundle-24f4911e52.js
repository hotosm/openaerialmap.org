!function(){function o(t,e,s){function a(i,n){if(!e[i]){if(!t[i]){var l="function"==typeof require&&require;if(!n&&l)return l(i,!0);if(r)return r(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var p=e[i]={exports:{}};t[i][0].call(p.exports,function(o){var e=t[i][1][o];return a(e||o)},p,p.exports,o,t,e,s)}return e[i].exports}for(var r="function"==typeof require&&require,i=0;i<s.length;i++)a(s[i]);return a}return o}()({"/home/travis/build/hotosm/openaerialmap.org/app/assets/scripts/config.js":[function(o,t,e){"use strict";var s=o("lodash.defaultsdeep"),a={local:o("./config/local.js"),logo:o("./config/logo.js"),production:o("./config/production.js"),staging:o("./config/staging.js")},r=a.local||{};s(r,a.production),t.exports=r},{"./config/local.js":"/home/travis/build/hotosm/openaerialmap.org/app/assets/scripts/config/local.js","./config/logo.js":"/home/travis/build/hotosm/openaerialmap.org/app/assets/scripts/config/logo.js","./config/production.js":"/home/travis/build/hotosm/openaerialmap.org/app/assets/scripts/config/production.js","./config/staging.js":"/home/travis/build/hotosm/openaerialmap.org/app/assets/scripts/config/staging.js","lodash.defaultsdeep":"lodash.defaultsdeep"}],"/home/travis/build/hotosm/openaerialmap.org/app/assets/scripts/config/local.js":[function(o,t,e){"use strict";t.exports={}},{}],"/home/travis/build/hotosm/openaerialmap.org/app/assets/scripts/config/logo.js":[function(o,t,e){"use strict";var s=["╭──────────────────────────────────────╮","│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░█░░░░░░░░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░█░░█░░░░█░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░██░░█░░██░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░███░█░███░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░███░████░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░███████░░░░░░█░░░█░░░░░│","│░░░░░░░░██░░░░░██████░░░░░██░░██░░░░░░│","│░░░░░█░░░██░░░░░█████░░░███░███░░░░░░░│","│░░░░░░██░░███░░░█████░░██████░░░░░░░░░│","│░░░░░░░░██░███░░█████░░████░░░░░░░░░░░│","│░░░░░░░░░██████░░████░███░░░░░░░░░░░░░│","│░░░░░░░░░░░░████░███░░█░░░░░░░░░░░░░░░│","│░░░░░░█████░░░░████░░░░░░░░░░░░░░░░░░░│","│░░░░░░░░██████░░░██░░░█░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░████░█████░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░██████░░░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░░░███░░░░░░░░░░░░░░░░░░│","╰──────────────────────────────────────╯"],a=[];s=s.map(function(o,t){return o.replace(/(^|[|│])|(░+)|(█+)/g,function(o,t,e,s){return t?(a.push("black"),"%c"+t):e?(a.push("#cf3f02"),"%c"+e):s||!o?(a.push("black"),"%c"+(s||"")):void 0})}).concat(["                                        ","%c           DEVELOPMENT SEED             "]).join("\n"),a=a.map(function(o){return"color: "+o}).concat(["color: #cf3f02; font-weight: bold"]),t.exports=[s].concat(a)},{}],"/home/travis/build/hotosm/openaerialmap.org/app/assets/scripts/config/production.js":[function(o,t,e){"use strict";var s=o("./logo");t.exports={environment:"production",consoleMessage:s,OAMBrowserUrl:"https://map.openaerialmap.org",OAMCatalogApi:"https://api.openaerialmap.org"}},{"./logo":"/home/travis/build/hotosm/openaerialmap.org/app/assets/scripts/config/logo.js"}],"/home/travis/build/hotosm/openaerialmap.org/app/assets/scripts/config/staging.js":[function(o,t,e){"use strict";t.exports={environment:"staging"}},{}],"/home/travis/build/hotosm/openaerialmap.org/app/assets/scripts/main.js":[function(o,t,e){"use strict";function s(o){return o&&o.__esModule?o:{"default":o}}var a=o("oam-design-system"),r=s(a),i=o("jquery"),n=s(i),l=o("moment"),c=s(l),p=o("turf-centroid"),u=s(p),g=o("tilebelt"),m=s(g),f=o("./config.js"),d=function(){var o=f.OAMCatalogApi+"/analytics/?limit=1";n["default"].getJSON(o,function(o){var t=o.results[0];(0,n["default"])("#stats--images").html(t.count.toLocaleString()).removeClass("invisible"),(0,n["default"])("#stats--sensors").html(t.sensor_count.toLocaleString()).removeClass("invisible"),(0,n["default"])("#stats--providers").html(t.provider_count.toLocaleString()).removeClass("invisible")})},h=function(o){var t="m";return o<1&&(t="cm",o=(100*o).toFixed(2)),o<1&&(o=0),o+" "+t},v=function(o){console.log(o);var t=14,e=(0,u["default"])({type:"Feature",geometry:o.geojson}).geometry.coordinates,s=m["default"].pointToTile(e[0],e[1],t+3),a=(m["default"].tileToQuadkey(s),e[0]+","+e[1]+","+t);return f.OAMBrowserUrl+"/#/"+a+"/latest/"+o._id},j=function(){var o=f.OAMCatalogApi+"/meta?order_by=acquisition_end&sort=desc&limit=3";n["default"].getJSON(o,function(o){o.results.forEach(function(o,t){var e=(0,n["default"])("#image-"+(t+1)+" a");(0,n["default"])(".latest-imagery__image",e).prepend((0,n["default"])("<img>",{alt:"Recent Imagery",src:o.properties.thumbnail})),(0,n["default"])("#date",e).text((0,c["default"])(o.acquisition_start.slice(0,-1)).format("MMMM Do YYYY")),(0,n["default"])("#provider",e).text(o.provider),(0,n["default"])("#resolution",e).text(h(o.gsd)),e.attr("href",v(o)),(0,n["default"])(".loading",e).removeClass("revealed")})})};document.querySelector('[data-hook="global-menu:trigger"]').addEventListener("click",function(o){o.preventDefault(),o.target.classList.toggle("button--active"),document.querySelector('[data-hook="global-menu:wrapper"]').classList.toggle("menu-wrapper--open")},!1),r["default"].hello(),d(),j()},{"./config.js":"/home/travis/build/hotosm/openaerialmap.org/app/assets/scripts/config.js",jquery:"jquery",moment:"moment","oam-design-system":"oam-design-system",tilebelt:"tilebelt","turf-centroid":"turf-centroid"}]},{},["/home/travis/build/hotosm/openaerialmap.org/app/assets/scripts/main.js"]);